<app-auth-block>
    <h2 class="title">Sign Up</h2>
    <form (ngSubmit)="register()" [formGroup]="form">
        <div class="form-group">
            <label for="input-name" class="sr-only">Name</label>
            <input formControlName="name" id="input-name" class="form-control" placeholder="name" [formControl]="form.controls['name']"
                autofocus>
                <small *ngIf="form.controls['name'].hasError('required') && form.controls['name'].touched" class="mat-text-warn">Name required.</small>
        </div>
        <div class="form-group">
            <label for="input-name" class="sr-only">Last name</label>
            <input formControlName="lastname" id="input-name" class="form-control" placeholder="Last name" [formControl]="form.controls['lastname']"
                autofocus>
                <small *ngIf="form.controls['lastname'].hasError('required') && form.controls['lastname'].touched" class="mat-text-warn">Last name required.</small>
        </div>        
        <div class="form-group">
            <label for="input-email" class="sr-only">Email address</label>
            <input formControlName="email" [(ngModel)]="user.email" id="input-email" class="form-control" placeholder="Email address"
                [formControl]="form.controls['email']">
            <small *ngIf="form.controls['email'].hasError('required') && form.controls['email'].touched" class="mat-text-warn">You must include an email address.</small>
            <small *ngIf="form.controls['email'].errors?.email && form.controls['email'].touched" class="mat-text-warn">You must include a valid email address.</small>
        </div>
        <div class="form-group">
            <label for="input-password" class="sr-only">Password</label>
            <input formControlName="password" type="password" id="input-password" class="form-control" placeholder="Password" [formControl]="form.controls['password']">
            <small *ngIf="form.controls['password'].hasError('required') && form.controls['password'].touched" class="mat-text-warn">You must include password.</small>
        </div>
        <div class="form-group">
            <label for="input-re-password" class="sr-only">Repeat password</label>
            <input formControlName="confirmPassword" type="password" id="input-re-password" class="form-control" placeholder="Confirm Password"
                [formControl]="form.controls['confirmPassword']">
            <small *ngIf="form.controls['confirmPassword'].hasError('required') && form.controls['confirmPassword'].touched" class="mat-text-warn">You must include confirm password.</small>
            <small *ngIf="form.controls['confirmPassword'].errors?.equalTo" class="mat-text-warn">Passwords do not match.</small>
        </div>
        <div class="form-group accept-group col-sm-12">
            <nb-checkbox formControlName="terms">
                Agree to <a href="#" target="_blank"><strong>Terms & Conditions</strong></a>
            </nb-checkbox>
        </div>
        <button [disabled]="submitted || !form.valid" class="btn btn-block btn-hero-success" [class.btn-pulse]="submitted">
        Register
      </button>
    </form>
    <div class="links">
        <small class="form-text">
        Already have an account? <a [routerLink]="['/login']"><strong>Sign in</strong></a>
      </small>
    </div>
</app-auth-block>